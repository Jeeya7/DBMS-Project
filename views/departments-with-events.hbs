<h1>Departments With Events</h1>

<p>This page will show which events belong to each department.</p>

<table class="table">
  <thead>
    <tr>
      <th>Department</th>
      <th>Event Name</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {{#if eventsDepartments.length}}
      {{#each eventsDepartments}}
        <tr>
          <td>{{this.Departments_departmentId}}</td>
          <td>{{this.Events_eventId}}</td>
          <td>
            <form action="/delete-department-event" method="POST" style="display:inline;">
              <input type="hidden" name="departmentId" value="{{this.Departments_departmentId}}">
              <input type="hidden" name="eventId" value="{{this.Events_eventId}}">
              <button type="submit">Delete</button>
            </form>
          </td>
        </tr>
      {{/each}}
    {{else}}
    <tr><td colspan="2">No data yet.</td></tr>
    {{/if}}
  </tbody>
</table>

<h3>Add New Department Event</h3>
<form action="/add-departments-events" method="POST" class="add-form">

  <select id="departmentId" name="departmentId" required>
    <option value="">-- Select Department ID --</option>
    {{#each departmentsList}}
    <option value="{{this.departmentId}}">
      {{this.departmentId}} — {{this.departmentName}}
    </option>
    {{/each}}
  </select>

  <select id="eventId" name="eventId" required>
    <option value="">-- Select Event ID --</option>
    {{#each eventsList}}
    <option value="{{this.eventId}}">
      {{this.eventId}} — {{this.eventName}}
    </option>
    {{/each}}
  </select>

  <button type="submit">Add Department</button>
</form>